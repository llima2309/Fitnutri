<?xml version="1.0" encoding="utf-8" ?>
<ContentPage  
x:Class="AppFitNutri.Views.ForgotPasswordPage"  
xmlns="http://schemas.microsoft.com/dotnet/2021/maui"  
xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"  
xmlns:viewmodels="clr-namespace:AppFitNutri.ViewModel"
BackgroundImageSource="backgroundfitnutri.png"
Title="Recuperar Senha">

    <Grid>
        <ScrollView>
            <VerticalStackLayout
                VerticalOptions="CenterAndExpand"
                HorizontalOptions="Center"
                Spacing="12">

                <!-- Logo -->
                <Image Source="logofitnutri.png"
                       WidthRequest="150"
                       HeightRequest="150"
                       Margin="0,0,0,10" />

                <!-- Título -->
                <Label Text="Recuperar Senha"
                       FontSize="22"
                       FontAttributes="Bold"
                       TextColor="#13734d"
                       HorizontalTextAlignment="Center"
                       Margin="0,0,0,10" />

                <!-- Subtítulo -->
                <Label Text="Informe seu e-mail para receber as instruções de recuperação"
                       FontSize="14"
                       TextColor="#666"
                       HorizontalTextAlignment="Center"
                       Margin="0,0,0,20" />

                <!-- E-mail -->
                <Frame HasShadow="False"
                       CornerRadius="30"
                       BackgroundColor="#D3D3D3"
                       Padding="0"
                       WidthRequest="300">
                    <Entry Placeholder="Seu e-mail"
                           PlaceholderColor="White"
                           Text="{Binding Email}"
                           Margin="16,10"
                           Keyboard="Email" />
                </Frame>

                <!-- Mensagem de sucesso -->
                <Frame HasShadow="False"
                       CornerRadius="15"
                       BackgroundColor="#d4edda"
                       BorderColor="#c3e6cb"
                       Padding="15"
                       WidthRequest="300"
                       IsVisible="{Binding HasSuccess}">
                    <Label Text="{Binding SuccessMessage}"
                           TextColor="#155724"
                           FontSize="12"
                           HorizontalTextAlignment="Center" />
                </Frame>

                <!-- Mensagem de erro -->
                <Label Text="{Binding ErrorMessage}"
                       TextColor="Red"
                       FontSize="12"
                       HorizontalTextAlignment="Center"
                       IsVisible="{Binding HasError}"
                       Margin="0,4,0,0"/>

                <!-- Botão Enviar -->
                <Button Text="{Binding SendButtonText}"
                        Command="{Binding EnviarSolicitacaoCommand}"
                        WidthRequest="300"
                        CornerRadius="30"
                        BackgroundColor="#13734d"
                        TextColor="White"
                        FontAttributes="Bold"
                        Padding="15"
                        IsEnabled="{Binding IsNotBusy}" />

                <!-- Botão Voltar -->
                <Button Text="← Voltar para o login"
                        Command="{Binding VoltarParaLoginCommand}"
                        CornerRadius="30"
                        BackgroundColor="Transparent" 
                        TextColor="#13734d"
                        FontSize="14"
                        Margin="0,10,0,0" />

                <!-- Loading -->
                <ActivityIndicator IsVisible="{Binding IsBusy}"
                                   IsRunning="{Binding IsBusy}"
                                   HorizontalOptions="Center"
                                   Color="#13734d" />
            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>